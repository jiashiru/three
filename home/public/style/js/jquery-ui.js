/*! jQuery UI - v1.11.4 - 2016-07-02
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, draggable.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(d){function g(l,j){var p,i,m,k=l.nodeName.toLowerCase();return"area"===k?(p=l.parentNode,i=p.name,l.href&&i&&"map"===p.nodeName.toLowerCase()?(m=d("img[usemap='#"+i+"']")[0],!!m&&c(m)):!1):(/^(input|select|textarea|button|object)$/.test(k)?!l.disabled:"a"===k?l.href||j:j)&&c(l)}function c(a){return d.expr.filters.visible(a)&&!d(a).parents().addBack().filter(function(){return"hidden"===d.css(this,"visibility")}).length}d.ui=d.ui||{},d.extend(d.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),d.fn.extend({scrollParent:function(m){var k=this.css("position"),l="absolute"===k,o=m?/(auto|scroll|hidden)/:/(auto|scroll)/,j=this.parents().filter(function(){var a=d(this);return l&&"static"===a.css("position")?!1:o.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==k&&j.length?j:d(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&d(this).removeAttr("id")})}}),d.extend(d.expr[":"],{data:d.expr.createPseudo?d.expr.createPseudo(function(a){return function(e){return !!d.data(e,a)}}):function(k,a,j){return !!d.data(k,j[3])},focusable:function(a){return g(a,!isNaN(d.attr(a,"tabindex")))},tabbable:function(a){var e=d.attr(a,"tabindex"),j=isNaN(e);return(j||e>=0)&&g(a,!j)}}),d("<a>").outerWidth(1).jquery||d.each(["Width","Height"],function(m,k){function l(t,o,r,n){return d.each(q,function(){o-=parseFloat(d.css(t,"padding"+this))||0,r&&(o-=parseFloat(d.css(t,"border"+this+"Width"))||0),n&&(o-=parseFloat(d.css(t,"margin"+this))||0)}),o}var q="Width"===k?["Left","Right"]:["Top","Bottom"],j=k.toLowerCase(),p={innerWidth:d.fn.innerWidth,innerHeight:d.fn.innerHeight,outerWidth:d.fn.outerWidth,outerHeight:d.fn.outerHeight};d.fn["inner"+k]=function(a){return void 0===a?p["inner"+k].call(this):this.each(function(){d(this).css(j,l(this,a)+"px")})},d.fn["outer"+k]=function(a,i){return"number"!=typeof a?p["outer"+k].call(this,a):this.each(function(){d(this).css(j,l(this,a,!0,i)+"px")})}}),d.fn.addBack||(d.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),d("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(d.fn.removeData=function(a){return function(e){return arguments.length?a.call(this,d.camelCase(e)):a.call(this)}}(d.fn.removeData)),d.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),d.fn.extend({focus:function(a){return function(e,j){return"number"==typeof e?this.each(function(){var i=this;setTimeout(function(){d(i).focus(),j&&j.call(i)},e)}):a.apply(this,arguments)}}(d.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(k){if(void 0!==k){return this.css("zIndex",k)}if(this.length){for(var a,j,l=d(this[0]);l.length&&l[0]!==document;){if(a=l.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(j=parseInt(l.css("zIndex"),10),!isNaN(j)&&0!==j)){return j}l=l.parent()}}return 0}}),d.ui.plugin={add:function(m,k,l){var o,j=d.ui[m].prototype;for(o in l){j.plugins[o]=j.plugins[o]||[],j.plugins[o].push([k,l[o]])}},call:function(l,o,k,m){var p,j=l.plugins[o];if(j&&(m||l.element[0].parentNode&&11!==l.element[0].parentNode.nodeType)){for(p=0;j.length>p;p++){l.options[j[p][0]]&&j[p][1].apply(l.element,k)}}}};var f=0,h=Array.prototype.slice;d.cleanData=function(a){return function(j){var k,m,e;for(e=0;null!=(m=j[e]);e++){try{k=d._data(m,"events"),k&&k.remove&&d(m).triggerHandler("remove")}catch(l){}}a(j)}}(d.cleanData),d.widget=function(u,q,w){var m,v,k,j,t={},p=u.split(".")[0];return u=u.split(".")[1],m=p+"-"+u,w||(w=q,q=d.Widget),d.expr[":"][m.toLowerCase()]=function(a){return !!d.data(a,m)},d[p]=d[p]||{},v=d[p][u],k=d[p][u]=function(a,i){return this._createWidget?(arguments.length&&this._createWidget(a,i),void 0):new k(a,i)},d.extend(k,v,{version:w.version,_proto:d.extend({},w),_childConstructors:[]}),j=new q,j.options=d.widget.extend({},j.options),d.each(w,function(i,a){return d.isFunction(a)?(t[i]=function(){var e=function(){return q.prototype[i].apply(this,arguments)},l=function(n){return q.prototype[i].apply(this,n)};return function(){var r,o=this._super,n=this._superApply;return this._super=e,this._superApply=l,r=a.apply(this,arguments),this._super=o,this._superApply=n,r}}(),void 0):(t[i]=a,void 0)}),k.prototype=d.widget.extend(j,{widgetEventPrefix:v?j.widgetEventPrefix||u:u},t,{constructor:k,namespace:p,widgetName:u,widgetFullName:m}),v?(d.each(v._childConstructors,function(n,a){var l=a.prototype;d.widget(l.namespace+"."+l.widgetName,k,a._proto)}),delete v._childConstructors):q._childConstructors.push(k),d.widget.bridge(u,k),k},d.widget.extend=function(n){for(var k,l,j=h.call(arguments,1),p=0,m=j.length;m>p;p++){for(k in j[p]){l=j[p][k],j[p].hasOwnProperty(k)&&void 0!==l&&(n[k]=d.isPlainObject(l)?d.isPlainObject(n[k])?d.widget.extend({},n[k],l):d.widget.extend({},l):l)}}return n},d.widget.bridge=function(k,a){var j=a.prototype.widgetFullName||k;d.fn[k]=function(e){var m="string"==typeof e,l=h.call(arguments,1),i=this;return m?this.each(function(){var o,p=d.data(this,j);return"instance"===e?(i=p,!1):p?d.isFunction(p[e])&&"_"!==e.charAt(0)?(o=p[e].apply(p,l),o!==p&&void 0!==o?(i=o&&o.jquery?i.pushStack(o.get()):o,!1):void 0):d.error("no such method '"+e+"' for "+k+" widget instance"):d.error("cannot call methods on "+k+" prior to initialization; attempted to call method '"+e+"'")}):(l.length&&(e=d.widget.extend.apply(null,[e].concat(l))),this.each(function(){var n=d.data(this,j);n?(n.option(e||{}),n._init&&n._init()):d.data(this,j,new a(e,this))})),i}},d.Widget=function(){},d.Widget._childConstructors=[],d.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(j,a){a=d(a||this.defaultElement||this)[0],this.element=d(a),this.uuid=f++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=d(),this.hoverable=d(),this.focusable=d(),a!==this&&(d.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===a&&this.destroy()}}),this.document=d(a.style?a.ownerDocument:a.document||a),this.window=d(this.document[0].defaultView||this.document[0].parentWindow)),this.options=d.widget.extend({},this.options,this._getCreateOptions(),j),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:d.noop,_getCreateEventData:d.noop,_create:d.noop,_init:d.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(d.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:d.noop,widget:function(){return this.element},option:function(m,k){var l,q,j,p=m;if(0===arguments.length){return d.widget.extend({},this.options)}if("string"==typeof m){if(p={},l=m.split("."),m=l.shift(),l.length){for(q=p[m]=d.widget.extend({},this.options[m]),j=0;l.length-1>j;j++){q[l[j]]=q[l[j]]||{},q=q[l[j]]}if(m=l.pop(),1===arguments.length){return void 0===q[m]?null:q[m]}q[m]=k}else{if(1===arguments.length){return void 0===this.options[m]?null:this.options[m]}p[m]=k}}return this._setOptions(p),this},_setOptions:function(a){var i;for(i in a){this._setOption(i,a[i])}return this},_setOption:function(a,i){return this.options[a]=i,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!i),i&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(m,k,l){var o,j=this;"boolean"!=typeof m&&(l=k,k=m,m=!1),l?(k=o=d(k),this.bindings=this.bindings.add(k)):(l=k,k=this.element,o=this.widget()),d.each(l,function(n,q){function p(){return m||j.options.disabled!==!0&&!d(this).hasClass("ui-state-disabled")?("string"==typeof q?j[q]:q).apply(j,arguments):void 0}"string"!=typeof q&&(p.guid=q.guid=q.guid||p.guid||d.guid++);var i=n.match(/^([\w:-]*)\s*(.*)$/),a=i[1]+j.eventNamespace,e=i[2];e?o.delegate(e,a,p):k.bind(a,p)})},_off:function(j,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,j.unbind(a).undelegate(a),this.bindings=d(this.bindings.not(j).get()),this.focusable=d(this.focusable.not(j).get()),this.hoverable=d(this.hoverable.not(j).get())},_delay:function(j,l){function a(){return("string"==typeof j?k[j]:j).apply(k,arguments)}var k=this;return setTimeout(a,l||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(i){d(i.currentTarget).addClass("ui-state-hover")},mouseleave:function(i){d(i.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(i){d(i.currentTarget).addClass("ui-state-focus")},focusout:function(i){d(i.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(m,k,l){var q,j,p=this.options[m];if(l=l||{},k=d.Event(k),k.type=(m===this.widgetEventPrefix?m:this.widgetEventPrefix+m).toLowerCase(),k.target=this.element[0],j=k.originalEvent){for(q in j){q in k||(k[q]=j[q])}}return this.element.trigger(k,l),!(d.isFunction(p)&&p.apply(this.element[0],[k].concat(l))===!1||k.isDefaultPrevented())}},d.each({show:"fadeIn",hide:"fadeOut"},function(j,a){d.Widget.prototype["_"+j]=function(i,m,e){"string"==typeof m&&(m={effect:m});var l,k=m?m===!0||"number"==typeof m?a:m.effect||a:j;m=m||{},"number"==typeof m&&(m={duration:m}),l=!d.isEmptyObject(m),m.complete=e,m.delay&&i.delay(m.delay),l&&d.effects&&d.effects.effect[k]?i[j](m):k!==j&&i[k]?i[k](m.duration,m.easing,e):i.queue(function(n){d(this)[j](),e&&e.call(i[0]),n()})}}),d.widget;var b=!1;d(document).mouseup(function(){b=!1}),d.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(e){return a._mouseDown(e)}).bind("click."+this.widgetName,function(e){return !0===d.data(e.target,a.widgetName+".preventClickEvent")?(d.removeData(e.target,a.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(k){if(!b){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(k),this._mouseDownEvent=k;var a=this,j=1===k.which,l="string"==typeof this.options.cancel&&k.target.nodeName?d(k.target).closest(this.options.cancel).length:!1;return j&&!l&&this._mouseCapture(k)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(k)&&this._mouseDelayMet(k)&&(this._mouseStarted=this._mouseStart(k)!==!1,!this._mouseStarted)?(k.preventDefault(),!0):(!0===d.data(k.target,this.widgetName+".preventClickEvent")&&d.removeData(k.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return a._mouseMove(e)},this._mouseUpDelegate=function(e){return a._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),k.preventDefault(),b=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(d.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button){return this._mouseUp(a)}if(!a.which){return this._mouseUp(a)}}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&d.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),b=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),d.widget("ui.draggable",d.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(a,i){this._super(a,i),"handle"===a&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(j){var a=this.options;return this._blurActiveElement(j),this.helper||a.disabled||d(j.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(j),this.handle?(this._blockFrames(a.iframeFix===!0?"iframe":a.iframeFix),!0):!1)},_blockFrames:function(a){this.iframeBlocks=this.document.find(a).map(function(){var i=d(this);return d("<div>").css("position","absolute").appendTo(i.parent()).outerWidth(i.outerWidth()).outerHeight(i.outerHeight()).offset(i.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(k){var a=this.document[0];if(this.handleElement.is(k.target)){try{a.activeElement&&"body"!==a.activeElement.nodeName.toLowerCase()&&d(a.activeElement).blur()}catch(j){}}},_mouseStart:function(j){var a=this.options;return this.helper=this._createHelper(j),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),d.ui.ddmanager&&(d.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===d(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(j),this.originalPosition=this.position=this._generatePosition(j,!1),this.originalPageX=j.pageX,this.originalPageY=j.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this._setContainment(),this._trigger("start",j)===!1?(this._clear(),!1):(this._cacheHelperProportions(),d.ui.ddmanager&&!a.dropBehaviour&&d.ui.ddmanager.prepareOffsets(this,j),this._normalizeRightBottom(),this._mouseDrag(j,!0),d.ui.ddmanager&&d.ui.ddmanager.dragStart(this,j),!0)},_refreshOffsets:function(a){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:a.pageX-this.offset.left,top:a.pageY-this.offset.top}},_mouseDrag:function(k,a){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(k,!0),this.positionAbs=this._convertPositionTo("absolute"),!a){var j=this._uiHash();if(this._trigger("drag",k,j)===!1){return this._mouseUp({}),!1}this.position=j.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",d.ui.ddmanager&&d.ui.ddmanager.drag(this,k),!1},_mouseStop:function(k){var a=this,j=!1;return d.ui.ddmanager&&!this.options.dropBehaviour&&(j=d.ui.ddmanager.drop(this,k)),this.dropped&&(j=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!j||"valid"===this.options.revert&&j||this.options.revert===!0||d.isFunction(this.options.revert)&&this.options.revert.call(this.element,j)?d(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){a._trigger("stop",k)!==!1&&a._clear()}):this._trigger("stop",k)!==!1&&this._clear(),!1},_mouseUp:function(a){return this._unblockFrames(),d.ui.ddmanager&&d.ui.ddmanager.dragStop(this,a),this.handleElement.is(a.target)&&this.element.focus(),d.ui.mouse.prototype._mouseUp.call(this,a)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(a){return this.options.handle?!!d(a.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(k){var a=this.options,j=d.isFunction(a.helper),l=j?d(a.helper.apply(this.element[0],[k])):"clone"===a.helper?this.element.clone().removeAttr("id"):this.element;return l.parents("body").length||l.appendTo("parent"===a.appendTo?this.element[0].parentNode:a.appendTo),j&&l[0]===this.element[0]&&this._setPositionRelative(),l[0]===this.element[0]||/(fixed|absolute)/.test(l.css("position"))||l.css("position","absolute"),l},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(a){"string"==typeof a&&(a=a.split(" ")),d.isArray(a)&&(a={left:+a[0],top:+a[1]||0}),"left" in a&&(this.offset.click.left=a.left+this.margins.left),"right" in a&&(this.offset.click.left=this.helperProportions.width-a.right+this.margins.left),"top" in a&&(this.offset.click.top=a.top+this.margins.top),"bottom" in a&&(this.offset.click.top=this.helperProportions.height-a.bottom+this.margins.top)},_isRootNode:function(a){return/(html|body)/i.test(a.tagName)||a===this.document[0]},_getParentOffset:function(){var j=this.offsetParent.offset(),a=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==a&&d.contains(this.scrollParent[0],this.offsetParent[0])&&(j.left+=this.scrollParent.scrollLeft(),j.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(j={top:0,left:0}),{top:j.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:j.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition){return{top:0,left:0}}var a=this.element.position(),i=this._isRootNode(this.scrollParent[0]);return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+(i?0:this.scrollParent.scrollTop()),left:a.left-(parseInt(this.helper.css("left"),10)||0)+(i?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var m,k,l,o=this.options,j=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?(this.containment=[d(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,d(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,d(window).scrollLeft()+d(window).width()-this.helperProportions.width-this.margins.left,d(window).scrollTop()+(d(window).height()||j.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===o.containment?(this.containment=[0,0,d(j).width()-this.helperProportions.width-this.margins.left,(d(j).height()||j.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):o.containment.constructor===Array?(this.containment=o.containment,void 0):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),k=d(o.containment),l=k[0],l&&(m=/(scroll|auto)/.test(k.css("overflow")),this.containment=[(parseInt(k.css("borderLeftWidth"),10)||0)+(parseInt(k.css("paddingLeft"),10)||0),(parseInt(k.css("borderTopWidth"),10)||0)+(parseInt(k.css("paddingTop"),10)||0),(m?Math.max(l.scrollWidth,l.offsetWidth):l.offsetWidth)-(parseInt(k.css("borderRightWidth"),10)||0)-(parseInt(k.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(m?Math.max(l.scrollHeight,l.offsetHeight):l.offsetHeight)-(parseInt(k.css("borderBottomWidth"),10)||0)-(parseInt(k.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=k),void 0):(this.containment=null,void 0)},_convertPositionTo:function(j,l){l||(l=this.position);var a="absolute"===j?1:-1,k=this._isRootNode(this.scrollParent[0]);return{top:l.top+this.offset.relative.top*a+this.offset.parent.top*a-("fixed"===this.cssPosition?-this.offset.scroll.top:k?0:this.offset.scroll.top)*a,left:l.left+this.offset.relative.left*a+this.offset.parent.left*a-("fixed"===this.cssPosition?-this.offset.scroll.left:k?0:this.offset.scroll.left)*a}},_generatePosition:function(x,v){var q,y,m,w,k=this.options,j=this._isRootNode(this.scrollParent[0]),u=x.pageX,p=x.pageY;return j&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),v&&(this.containment&&(this.relativeContainer?(y=this.relativeContainer.offset(),q=[this.containment[0]+y.left,this.containment[1]+y.top,this.containment[2]+y.left,this.containment[3]+y.top]):q=this.containment,x.pageX-this.offset.click.left<q[0]&&(u=q[0]+this.offset.click.left),x.pageY-this.offset.click.top<q[1]&&(p=q[1]+this.offset.click.top),x.pageX-this.offset.click.left>q[2]&&(u=q[2]+this.offset.click.left),x.pageY-this.offset.click.top>q[3]&&(p=q[3]+this.offset.click.top)),k.grid&&(m=k.grid[1]?this.originalPageY+Math.round((p-this.originalPageY)/k.grid[1])*k.grid[1]:this.originalPageY,p=q?m-this.offset.click.top>=q[1]||m-this.offset.click.top>q[3]?m:m-this.offset.click.top>=q[1]?m-k.grid[1]:m+k.grid[1]:m,w=k.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/k.grid[0])*k.grid[0]:this.originalPageX,u=q?w-this.offset.click.left>=q[0]||w-this.offset.click.left>q[2]?w:w-this.offset.click.left>=q[0]?w-k.grid[0]:w+k.grid[0]:w),"y"===k.axis&&(u=this.originalPageX),"x"===k.axis&&(p=this.originalPageY)),{top:p-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:j?0:this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:j?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(k,a,j){return j=j||this._uiHash(),d.ui.plugin.call(this,k,[a,j,this],!0),/^(drag|start|stop)/.test(k)&&(this.positionAbs=this._convertPositionTo("absolute"),j.offset=this.positionAbs),d.Widget.prototype._trigger.call(this,k,a,j)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),d.ui.plugin.add("draggable","connectToSortable",{start:function(k,a,j){var l=d.extend({},a,{item:j.element});j.sortables=[],d(j.options.connectToSortable).each(function(){var e=d(this).sortable("instance");e&&!e.options.disabled&&(j.sortables.push(e),e.refreshPositions(),e._trigger("activate",k,l))})},stop:function(k,a,j){var l=d.extend({},a,{item:j.element});j.cancelHelperRemoval=!1,d.each(j.sortables,function(){var e=this;e.isOver?(e.isOver=0,j.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(k),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",k,l))})},drag:function(k,a,j){d.each(j.sortables,function(){var i=!1,e=this;e.positionAbs=j.positionAbs,e.helperProportions=j.helperProportions,e.offset.click=j.offset.click,e._intersectsWith(e.containerCache)&&(i=!0,d.each(j.sortables,function(){return this.positionAbs=j.positionAbs,this.helperProportions=j.helperProportions,this.offset.click=j.offset.click,this!==e&&this._intersectsWith(this.containerCache)&&d.contains(e.element[0],this.element[0])&&(i=!1),i})),i?(e.isOver||(e.isOver=1,j._parent=a.helper.parent(),e.currentItem=a.helper.appendTo(e.element).data("ui-sortable-item",!0),e.options._helper=e.options.helper,e.options.helper=function(){return a.helper[0]},k.target=e.currentItem[0],e._mouseCapture(k,!0),e._mouseStart(k,!0,!0),e.offset.click.top=j.offset.click.top,e.offset.click.left=j.offset.click.left,e.offset.parent.left-=j.offset.parent.left-e.offset.parent.left,e.offset.parent.top-=j.offset.parent.top-e.offset.parent.top,j._trigger("toSortable",k),j.dropped=e.element,d.each(j.sortables,function(){this.refreshPositions()}),j.currentItem=j.element,e.fromOutside=j),e.currentItem&&(e._mouseDrag(k),a.position=e.position)):e.isOver&&(e.isOver=0,e.cancelHelperRemoval=!0,e.options._revert=e.options.revert,e.options.revert=!1,e._trigger("out",k,e._uiHash(e)),e._mouseStop(k,!0),e.options.revert=e.options._revert,e.options.helper=e.options._helper,e.placeholder&&e.placeholder.remove(),a.helper.appendTo(j._parent),j._refreshOffsets(k),a.position=j._generatePosition(k,!0),j._trigger("fromSortable",k),j.dropped=!1,d.each(j.sortables,function(){this.refreshPositions()}))})}}),d.ui.plugin.add("draggable","cursor",{start:function(m,k,l){var o=d("body"),j=l.options;o.css("cursor")&&(j._cursor=o.css("cursor")),o.css("cursor",j.cursor)},stop:function(k,a,j){var l=j.options;l._cursor&&d("body").css("cursor",l._cursor)}}),d.ui.plugin.add("draggable","opacity",{start:function(m,k,l){var o=d(k.helper),j=l.options;o.css("opacity")&&(j._opacity=o.css("opacity")),o.css("opacity",j.opacity)},stop:function(k,a,j){var l=j.options;l._opacity&&d(a.helper).css("opacity",l._opacity)}}),d.ui.plugin.add("draggable","scroll",{start:function(j,k,a){a.scrollParentNotHidden||(a.scrollParentNotHidden=a.helper.scrollParent(!1)),a.scrollParentNotHidden[0]!==a.document[0]&&"HTML"!==a.scrollParentNotHidden[0].tagName&&(a.overflowOffset=a.scrollParentNotHidden.offset())},drag:function(p,k,l){var t=l.options,j=!1,q=l.scrollParentNotHidden[0],m=l.document[0];q!==m&&"HTML"!==q.tagName?(t.axis&&"x"===t.axis||(l.overflowOffset.top+q.offsetHeight-p.pageY<t.scrollSensitivity?q.scrollTop=j=q.scrollTop+t.scrollSpeed:p.pageY-l.overflowOffset.top<t.scrollSensitivity&&(q.scrollTop=j=q.scrollTop-t.scrollSpeed)),t.axis&&"y"===t.axis||(l.overflowOffset.left+q.offsetWidth-p.pageX<t.scrollSensitivity?q.scrollLeft=j=q.scrollLeft+t.scrollSpeed:p.pageX-l.overflowOffset.left<t.scrollSensitivity&&(q.scrollLeft=j=q.scrollLeft-t.scrollSpeed))):(t.axis&&"x"===t.axis||(p.pageY-d(m).scrollTop()<t.scrollSensitivity?j=d(m).scrollTop(d(m).scrollTop()-t.scrollSpeed):d(window).height()-(p.pageY-d(m).scrollTop())<t.scrollSensitivity&&(j=d(m).scrollTop(d(m).scrollTop()+t.scrollSpeed))),t.axis&&"y"===t.axis||(p.pageX-d(m).scrollLeft()<t.scrollSensitivity?j=d(m).scrollLeft(d(m).scrollLeft()-t.scrollSpeed):d(window).width()-(p.pageX-d(m).scrollLeft())<t.scrollSensitivity&&(j=d(m).scrollLeft(d(m).scrollLeft()+t.scrollSpeed)))),j!==!1&&d.ui.ddmanager&&!t.dropBehaviour&&d.ui.ddmanager.prepareOffsets(l,p)}}),d.ui.plugin.add("draggable","snap",{start:function(k,a,j){var l=j.options;j.snapElements=[],d(l.snap.constructor!==String?l.snap.items||":data(ui-draggable)":l.snap).each(function(){var n=d(this),m=n.offset();this!==j.element[0]&&j.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:m.top,left:m.left})})},drag:function(F,B,q){var y,J,x,t,C,A,k,H,G,w,E=q.options,z=E.snapTolerance,D=B.offset.left,j=D+q.helperProportions.width,K=B.offset.top,I=K+q.helperProportions.height;for(G=q.snapElements.length-1;G>=0;G--){C=q.snapElements[G].left-q.margins.left,A=C+q.snapElements[G].width,k=q.snapElements[G].top-q.margins.top,H=k+q.snapElements[G].height,C-z>j||D>A+z||k-z>I||K>H+z||!d.contains(q.snapElements[G].item.ownerDocument,q.snapElements[G].item)?(q.snapElements[G].snapping&&q.options.snap.release&&q.options.snap.release.call(q.element,F,d.extend(q._uiHash(),{snapItem:q.snapElements[G].item})),q.snapElements[G].snapping=!1):("inner"!==E.snapMode&&(y=z>=Math.abs(k-I),J=z>=Math.abs(H-K),x=z>=Math.abs(C-j),t=z>=Math.abs(A-D),y&&(B.position.top=q._convertPositionTo("relative",{top:k-q.helperProportions.height,left:0}).top),J&&(B.position.top=q._convertPositionTo("relative",{top:H,left:0}).top),x&&(B.position.left=q._convertPositionTo("relative",{top:0,left:C-q.helperProportions.width}).left),t&&(B.position.left=q._convertPositionTo("relative",{top:0,left:A}).left)),w=y||J||x||t,"outer"!==E.snapMode&&(y=z>=Math.abs(k-K),J=z>=Math.abs(H-I),x=z>=Math.abs(C-D),t=z>=Math.abs(A-j),y&&(B.position.top=q._convertPositionTo("relative",{top:k,left:0}).top),J&&(B.position.top=q._convertPositionTo("relative",{top:H-q.helperProportions.height,left:0}).top),x&&(B.position.left=q._convertPositionTo("relative",{top:0,left:C}).left),t&&(B.position.left=q._convertPositionTo("relative",{top:0,left:A-q.helperProportions.width}).left)),!q.snapElements[G].snapping&&(y||J||x||t||w)&&q.options.snap.snap&&q.options.snap.snap.call(q.element,F,d.extend(q._uiHash(),{snapItem:q.snapElements[G].item})),q.snapElements[G].snapping=y||J||x||t||w)}}}),d.ui.plugin.add("draggable","stack",{start:function(m,k,l){var q,j=l.options,p=d.makeArray(d(j.stack)).sort(function(n,a){return(parseInt(d(n).css("zIndex"),10)||0)-(parseInt(d(a).css("zIndex"),10)||0)});p.length&&(q=parseInt(d(p[0]).css("zIndex"),10)||0,d(p).each(function(a){d(this).css("zIndex",q+a)}),this.css("zIndex",q+p.length))}}),d.ui.plugin.add("draggable","zIndex",{start:function(m,k,l){var o=d(k.helper),j=l.options;o.css("zIndex")&&(j._zIndex=o.css("zIndex")),o.css("zIndex",j.zIndex)},stop:function(k,a,j){var l=j.options;l._zIndex&&d(a.helper).css("zIndex",l._zIndex)}}),d.ui.draggable});